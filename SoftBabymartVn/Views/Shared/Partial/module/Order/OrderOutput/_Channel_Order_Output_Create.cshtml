<script src="~/Scripts/module/Order/m.Order.js"></script>
<script src="~/Scripts/module/Order/OrderOutput/mv.OrderOutput_Add.js"></script>
<script>
    var orderInsideAdd = new Order.mvOrderOutputAdd();
    $(document).ready(function () {
        orderInsideAdd.Start();
    });
</script>
<div id="OrderOutputAddViewId" class="row-fluid">
    <div class="span9">
        <div class="dataTables_wrapper">
            <div class="control-group">
                <div class="controls">
                    <input type="text" class="span12" placeholder="Tìm kiếm" data-bind="value: Keyword,valueUpdate: 'afterkeydown'">
                    <!--ko if: ListProductSearch().length >0 -->
                    <div class="search_recommended">
                        <ul>
                            <!--ko foreach:ListProductSearch -->
                            <li data-bind="text: ProductName, click: $parent.GetProduct"></li>
                            <!-- /ko -->
                        </ul>
                    </div>
                    <!-- /ko -->
                </div>
            </div>

            <!--ko if: mOrderOutput().Detail().length >0-->
            <table class="table table-striped table-bordered table-hover dataTable">
                <thead>
                    <tr>
                        <td>Mã hàng hóa</td>
                        <td>Tên hàng</td>
                        <td>Số lượng</td>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <!--ko foreach: mOrderOutput().Detail() -->
                    <tr class="odd">
                        <td class="text-center">
                            <span data-bind="text: Code"></span>
                        </td>
                        <td>
                            <span data-bind="text: ProductName"></span>
                        </td>
                        <td class="text-center">
                            <input data-bind="value: Total, valueUpdate: 'afterkeydown'" class="input-mini" />
                        </td>
                        <td>
                            <span class="btn btn-danger btn-small" data-bind="click: $parent.RemoveItem"><i class="icon-remove"></i></span>
                        </td>
                    </tr>
                    <!--/ko-->
                    <tr>
                        <td colspan="2" class="text-right">
                            <strong>Tổng</strong>
                        </td>
                        <td  colspan="2"  class="text-center">
                            <span data-bind="text: mOrderOutput().Total"></span>
                        </td>
                    </tr>

                </tbody>
            </table>
            <!-- /ko -->
        </div>
    </div>
    <div class="span3">
        <div class="widget-box">
            <div class="widget-header">
                <h4>Thông tin</h4>
                <span class="widget-toolbar">
                    <a href="#" data-action="settings">
                        <i class="icon-cog"></i>
                    </a>

                    <a href="#" data-action="reload">
                        <i class="icon-refresh"></i>
                    </a>

                    <a href="#" data-action="collapse">
                        <i class="icon-chevron-up"></i>
                    </a>

                    <a href="#" data-action="close">
                        <i class="icon-remove"></i>
                    </a>
                </span>
            </div>
            <div class="widget-body">
                <div class="widget-main">
                    <div class="tabbable">
                        <ul class="nav nav-tabs" id="myTab">
                            <li class="active">
                                <a data-toggle="tab" href="#home">
                                    Thông tin
                                </a>
                            </li>
                        </ul>
                        <div class="tab-content">
                            <div id="home" class="tab-pane in active">
                                <div class="row-fluid">
                                    <label for="form-field-mask-1">
                                        Xuất đến kênh
                                    </label>
                                    <select data-bind="options: LstBranches, optionsText: 'BranchesName',optionsValue:'BranchesId', value: mOrderOutput().Id_To"></select>
                                </div>
                                <div class="row-fluid">
                                    <label for="form-field-mask-1">
                                        Ghi chú
                                    </label>
                                    <textarea data-bind="value: mOrderOutput().Note" class="span12"></textarea>
                                </div>
                            </div>
                        </div>
                    </div>
                    <p>
                        <button class="btn btn-success" data-bind="click: CreatOrderOutput">Hoàn thành</button>
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>

